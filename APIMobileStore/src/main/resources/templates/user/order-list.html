<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" th:replace="~{layout/user-layout :: content(~, ~, title='Đơn hàng của tôi')}">
<div>
    <h2 class="mb-4">Đơn hàng của tôi</h2>

    <div class="card border-0 shadow-sm">
        <div class="card-body">
            <div th:if="${orders.isEmpty()}" class="text-center text-muted p-4">
                Bạn chưa có đơn hàng nào. <a th:href="@{/}" class="text-primary">Mua sắm ngay</a>!
            </div>
            <div th:unless="${orders.isEmpty()}">
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-dark">
                        <tr>
                            <th>Mã đơn hàng</th>
                            <th>Ngày đặt</th>
                            <th>Tổng tiền</th>
                            <th>Trạng thái</th>
                            <th>Thao tác</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="order : ${orders}">
                            <td th:text="${order.id}"></td>
                            <td th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}"></td>
                            <td th:text="${#numbers.formatDecimal(order.total, 0, '###,###.##')} + ' VND'"></td>
                            <td>
                                <span class="badge" th:classappend="${order.status == 'PENDING' ? 'bg-warning' : order.status == 'SHIPPED' ? 'bg-info' : 'bg-success'}" th:text="${order.status}"></span>
                            </td>
                            <td>
                                <a th:href="@{'/user/orders/' + ${order.id}}" class="btn btn-info btn-sm" data-bs-toggle="tooltip" title="Xem chi tiết"><i class="fas fa-eye"></i></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</html>